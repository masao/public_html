<?xml version="1.0" encoding="EUC-JP"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head xmlns:og="http://ogp.me/ns#">
<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
<link rev="made" href="mailto:tmasao@acm.org" />
<link rel="stylesheet" href="../default.css" type="text/css" />
<title>郵便番号検索スクリプト（CGIプログラム）</title>
</head>
<body>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
<div class="navi"><a href="./..">HOME</a> &gt;
<a class="subject" href="./../software/">ソフトウェア</a> &gt;
郵便番号検索スクリプト（CGIプログラム）</div>
<div class="last-update">初版公開日: 2007年02月04日</div>
<div class="last-update">最終更新日: 2007年02月04日</div>
<h1>郵便番号検索スクリプト（CGIプログラム）</h1>
<p>SQLiteデータベース利用の習作として作成した郵便番号検索のスクリプトです。</p>
<p>動作例は<a href="../etc/zipcode.cgi">郵便番号検索</a>をご覧ください。</p>
<h2 id="toc1_1">履歴</h2>
<dl>
<dt>2007-02-04</dt>
<dd>zipcode_cgi-0.1 初期公開。
</dd>
</dl>
<h2 id="toc1_2">ダウンロード</h2>
<ul>
<li><a href="../archive/zipcode_cgi-0.1.tar.gz">zipcode_cgi-0.1.tar.gz</a></li>
</ul>
<p><a href="http://www.ruby-lang.org/ja/LICENSE.txt">Ruby本体のライセンス</a>と同一の条件で自由に使っていただいて構いません。</p>
<h2 id="toc1_3">ファイル構成</h2>
<dl>
<dt>zipcode.rb</dt>
<dd>CGI スクリプト
</dd>
<dt>zipcode-mkdb.rb</dt>
<dd>データベース作成スクリプト
</dd>
<dt>zipcode.rhtml</dt>
<dd>表示用 eRuby ファイル
</dd>
</dl>
<h2 id="toc1_4">動作要件</h2>
<p>本ツールの動作には、以下のソフトウェア群が必要となります。使用する際には、あらかじめインストール、設定等を済ませてください。</p>
<ul>
<li>CGIプログラムが動作可能なウェブサーバ</li>
<li><a href="http://sqlite.org/">SQLite</a></li>
<li><a href="http://www.ruby-lang.org/ja/">Ruby</a></li>
<li>Ruby モジュール - SQLite （SQLiteのバージョンによって異なる。）<ul>
<li>SQLite 2.x : <a href="http://rubyforge.org/projects/ruby-dbi">Ruby/DBI + DBD/SQLite</a></li>
<li>SQLite 3.x : <a href="http://rubyforge.org/projects/sqlite-ruby">sqlite3-ruby</a></li>
</ul></li>
</ul>
<h2 id="toc1_5">使い方</h2>
<p>まず、郵便局サイトが提供している郵便番号データのCSV形式をダウンロードし、それをもとにデータベースを作成します。
以下のコマンドラインでできます。</p>
<pre>% wget http://www.post.japanpost.jp/zipcode/dl/kogaki/lzh/ken_all.lzh
% lha -x ken_all.lzh
% nkf -Se ken_all.csv | ./zipcode-mkdb.rb</pre>
<p>データベースの作成が完了したら、<code>zipcode.rb</code>を CGI スクリプトとして実行すれば、検索ができるようになると思います。</p>
<p>表示方法などは、<code>zipcode.rhtml</code>を変更すればカスタマイズできます。</p>
<h2 id="toc1_6">謝辞</h2>
<p>本プログラムは、以下のソフトウェアなどにより実装されています。
各ソフトウェアの作者の方々に感謝いたします。</p>
<ul>
<li><a href="http://www.ruby-lang.org/ja/">Ruby</a></li>
<li><a href="http://www2a.biglobe.ne.jp/~seki/ruby/erb.html">ERB</a></li>
<li><a href="http://www.sqlite.org/">SQLite</a></li>
<li><a href="http://rubyforge.org/projects/sqlite-ruby/">sqlite3-ruby</a> or <a href="http://ruby-dbi.sourceforge.net/">Ruby/DBI</a></li>
</ul>
<hr />
<div class="navi"><a href="./..">HOME</a> &gt;
<a class="subject" href="./../software/">ソフトウェア</a> &gt;
郵便番号検索スクリプト（CGIプログラム）</div>
<address>高久雅生 (Masao Takaku)<br />
<a href="http://masao.jpn.org/">http://masao.jpn.org/</a>,
<a href="mailto:tmasao@acm.org">tmasao@acm.org</a></address>
<ul id="social-service">
<li class="hatena-bookmark">
<a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="standard-balloon" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
</li>
<li class="twitter-button">
<a href="https://twitter.com/share" class="twitter-share-button" data-lang="ja">ツイート</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</li>
<li class="facebook-button">
<div class="fb-like" data-href="http://masao.jpn.org/software/zipcode_cgi.html" data-send="false" data-layout="button_count" data-width="100" data-show-faces="true"></div>
</li>
</ul>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-389547-1";
urchinTracker();
</script>
</body>
</html>
